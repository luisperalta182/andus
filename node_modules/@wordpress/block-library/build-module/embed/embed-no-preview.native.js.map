{"version":3,"sources":["@wordpress/block-library/src/embed/embed-no-preview.native.js"],"names":["TouchableOpacity","TouchableWithoutFeedback","Text","View","__","useRef","useState","usePreferredColorSchemeStyle","requestPreview","useSelect","store","editorStore","BottomSheet","Icon","TextControl","help","styles","EmbedNoPreview","label","icon","isSelected","onPress","shouldRequestReview","isSheetVisible","setIsSheetVisible","postType","select","getEditedPostAttribute","containerStyle","embed__container","labelStyle","embed__label","embedIconStyle","embed__icon","descriptionStyle","embed__description","helpIconStyle","sheetIconStyle","sheetTitleStyle","sheetDescriptionStyle","sheetButtonStyle","previewButtonA11yHint","previewButtonText","comingSoonDescription","onOpenSheet","onCloseSheet","onDismissSheet","current","onPressContainer","onPressHelp","fill","embed__action","toUpperCase","width"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableOpacity, TouchableWithoutFeedback, Text } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { View } from '@wordpress/primitives';\n\nimport { __ } from '@wordpress/i18n';\nimport { useRef, useState } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { requestPreview } from '@wordpress/react-native-bridge';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { BottomSheet, Icon, TextControl } from '@wordpress/components';\nimport { help } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\n\nconst EmbedNoPreview = ( { label, icon, isSelected, onPress } ) => {\n\tconst shouldRequestReview = useRef( false );\n\tconst [ isSheetVisible, setIsSheetVisible ] = useState( false );\n\n\tconst { postType } = useSelect( ( select ) => ( {\n\t\tpostType: select( editorStore ).getEditedPostAttribute( 'type' ),\n\t} ) );\n\n\tconst containerStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__container,\n\t\tstyles[ 'embed__container--dark' ]\n\t);\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__label,\n\t\tstyles[ 'embed__label--dark' ]\n\t);\n\tconst embedIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__icon,\n\t\tstyles[ 'embed__icon--dark' ]\n\t);\n\tconst descriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__description,\n\t\tstyles[ 'embed__description--dark' ]\n\t);\n\tconst helpIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__help-icon' ],\n\t\tstyles[ 'embed-no-preview__help-icon--dark' ]\n\t);\n\n\tconst sheetIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-icon' ],\n\t\tstyles[ 'embed-no-preview__sheet-icon--dark' ]\n\t);\n\tconst sheetTitleStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-title' ],\n\t\tstyles[ 'embed-no-preview__sheet-title--dark' ]\n\t);\n\tconst sheetDescriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-description' ],\n\t\tstyles[ 'embed-no-preview__sheet-description--dark' ]\n\t);\n\tconst sheetButtonStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-button' ],\n\t\tstyles[ 'embed-no-preview__sheet-button--dark' ]\n\t);\n\n\tconst previewButtonA11yHint =\n\t\tpostType === 'page'\n\t\t\t? __( 'Double tap to preview page.' )\n\t\t\t: __( 'Double tap to preview post.' );\n\tconst previewButtonText =\n\t\tpostType === 'page' ? __( 'Preview page' ) : __( 'Preview post' );\n\tconst comingSoonDescription =\n\t\tpostType === 'page'\n\t\t\t? __(\n\t\t\t\t\t'We’re working hard on adding support for embed previews. In the meantime, you can preview the embedded content on the page.'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'We’re working hard on adding support for embed previews. In the meantime, you can preview the embedded content on the post.'\n\t\t\t  );\n\n\tfunction onOpenSheet() {\n\t\tsetIsSheetVisible( true );\n\t}\n\n\tfunction onCloseSheet() {\n\t\tsetIsSheetVisible( false );\n\t}\n\n\tfunction onDismissSheet() {\n\t\t// The preview request has to be done after the bottom sheet modal is dismissed,\n\t\t// otherwise the preview native modal is not displayed.\n\t\tif ( shouldRequestReview.current ) {\n\t\t\trequestPreview();\n\t\t}\n\t\tshouldRequestReview.current = false;\n\t}\n\n\tfunction onPressContainer() {\n\t\tonPress();\n\t\tonOpenSheet();\n\t}\n\n\tfunction onPressHelp() {\n\t\tonPressContainer();\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\taccessibilityHint={ previewButtonA11yHint }\n\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\tonPress={ onPressContainer }\n\t\t\t>\n\t\t\t\t<View style={ containerStyle }>\n\t\t\t\t\t<Icon icon={ icon } fill={ embedIconStyle.fill } />\n\t\t\t\t\t<Text style={ labelStyle }>{ label }</Text>\n\t\t\t\t\t<Text style={ descriptionStyle }>\n\t\t\t\t\t\t{ __( 'Embed previews not yet available' ) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ styles.embed__action }>\n\t\t\t\t\t\t{ previewButtonText.toUpperCase() }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t\t\t\taccessibilityLabel={ __( 'Help button' ) }\n\t\t\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\tonPress={ onPressHelp }\n\t\t\t\t\t\tstyle={ helpIconStyle }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ helpIconStyle.fill }\n\t\t\t\t\t\t\tsize={ helpIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ isSheetVisible }\n\t\t\t\thideHeader\n\t\t\t\tonDismiss={ onDismissSheet }\n\t\t\t\tonClose={ onCloseSheet }\n\t\t\t>\n\t\t\t\t<View style={ styles[ 'embed-no-preview__container' ] }>\n\t\t\t\t\t<View style={ sheetIconStyle }>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ sheetIconStyle.fill }\n\t\t\t\t\t\t\tsize={ sheetIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text style={ sheetTitleStyle }>\n\t\t\t\t\t\t{ __( 'Embed block previews are coming soon' ) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ sheetDescriptionStyle }>\n\t\t\t\t\t\t{ comingSoonDescription }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ previewButtonText }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ () => {\n\t\t\t\t\t\tshouldRequestReview.current = true;\n\t\t\t\t\t\tonCloseSheet();\n\t\t\t\t\t} }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Dismiss' ) }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ onCloseSheet }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t</BottomSheet>\n\t\t</>\n\t);\n};\n\nexport default EmbedNoPreview;\n"]}