{"version":3,"sources":["@wordpress/block-library/src/cover/save.js"],"names":["classnames","InnerBlocks","getColorClassName","__experimentalGetGradientClass","useBlockProps","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","backgroundImageStyles","dimRatioToClass","isContentPositionCenter","getPositionClassName","save","attributes","backgroundType","gradient","contentPosition","customGradient","customOverlayColor","dimRatio","focalPoint","hasParallax","isRepeated","overlayColor","url","id","minHeight","minHeightProp","minHeightUnit","overlayColorClass","gradientClass","isImageBackground","isVideoBackground","isImgElement","style","backgroundColor","undefined","background","objectPosition","Math","round","x","y","classes","className"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tInnerBlocks,\n\tgetColorClassName,\n\t__experimentalGetGradientClass,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport {\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tbackgroundImageStyles,\n\tdimRatioToClass,\n\tisContentPositionCenter,\n\tgetPositionClassName,\n} from './shared';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tbackgroundType,\n\t\tgradient,\n\t\tcontentPosition,\n\t\tcustomGradient,\n\t\tcustomOverlayColor,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\thasParallax,\n\t\tisRepeated,\n\t\toverlayColor,\n\t\turl,\n\t\tid,\n\t\tminHeight: minHeightProp,\n\t\tminHeightUnit,\n\t} = attributes;\n\tconst overlayColorClass = getColorClassName(\n\t\t'background-color',\n\t\toverlayColor\n\t);\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\n\tconst minHeight = minHeightUnit\n\t\t? `${ minHeightProp }${ minHeightUnit }`\n\t\t: minHeightProp;\n\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\n\n\tconst isImgElement = ! ( hasParallax || isRepeated );\n\n\tconst style = {\n\t\t...( isImageBackground && ! isImgElement\n\t\t\t? backgroundImageStyles( url )\n\t\t\t: {} ),\n\t\tbackgroundColor: ! overlayColorClass ? customOverlayColor : undefined,\n\t\tbackground: customGradient && ! url ? customGradient : undefined,\n\t\tminHeight: minHeight || undefined,\n\t};\n\n\tconst objectPosition =\n\t\t// prettier-ignore\n\t\tfocalPoint && isImgElement\n\t\t\t? `${ Math.round( focalPoint.x * 100 ) }% ${ Math.round( focalPoint.y * 100 ) }%`\n\t\t\t: undefined;\n\n\tconst classes = classnames(\n\t\tdimRatioToClass( dimRatio ),\n\t\toverlayColorClass,\n\t\t{\n\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t\t'has-background-gradient': gradient || customGradient,\n\t\t\t[ gradientClass ]: ! url && gradientClass,\n\t\t\t'has-custom-content-position': ! isContentPositionCenter(\n\t\t\t\tcontentPosition\n\t\t\t),\n\t\t},\n\t\tgetPositionClassName( contentPosition )\n\t);\n\n\treturn (\n\t\t<div { ...useBlockProps.save( { className: classes, style } ) }>\n\t\t\t{ url && ( gradient || customGradient ) && dimRatio !== 0 && (\n\t\t\t\t<span\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'wp-block-cover__gradient-background',\n\t\t\t\t\t\tgradientClass\n\t\t\t\t\t) }\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tcustomGradient\n\t\t\t\t\t\t\t? { background: customGradient }\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isImageBackground && isImgElement && url && (\n\t\t\t\t<img\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'wp-block-cover__image-background',\n\t\t\t\t\t\tid ? `wp-image-${ id }` : null\n\t\t\t\t\t) }\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\tstyle={ { objectPosition } }\n\t\t\t\t\tdata-object-fit=\"cover\"\n\t\t\t\t\tdata-object-position={ objectPosition }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isVideoBackground && url && (\n\t\t\t\t<video\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'wp-block-cover__video-background',\n\t\t\t\t\t\t'intrinsic-ignore'\n\t\t\t\t\t) }\n\t\t\t\t\tautoPlay\n\t\t\t\t\tmuted\n\t\t\t\t\tloop\n\t\t\t\t\tplaysInline\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\tstyle={ { objectPosition } }\n\t\t\t\t\tdata-object-fit=\"cover\"\n\t\t\t\t\tdata-object-position={ objectPosition }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div className=\"wp-block-cover__inner-container\">\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]}