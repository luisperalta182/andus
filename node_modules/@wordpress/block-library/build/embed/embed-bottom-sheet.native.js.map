{"version":3,"sources":["@wordpress/block-library/src/embed/embed-bottom-sheet.native.js"],"names":["linkSettingsOptions","url","label","placeholder","autoFocus","autoFill","footer","separatorType","EmbedBottomSheet","value","isVisible","onClose","onSubmit","setURL","createErrorNotice","noticesStore","onDismiss","setAttributes","attributes"],"mappings":";;;;;;;AAWA;;AARA;;AACA;;AAIA;;AACA;;AACA;;AAVA;AACA;AACA;AAWA,MAAMA,mBAAmB,GAAG;AAC3BC,EAAAA,GAAG,EAAE;AACJC,IAAAA,KAAK,EAAE,cAAI,YAAJ,CADH;AAEJC,IAAAA,WAAW,EAAE,cAAI,UAAJ,CAFT;AAGJC,IAAAA,SAAS,EAAE,IAHP;AAIJC,IAAAA,QAAQ,EAAE;AAJN,GADsB;AAO3BC,EAAAA,MAAM,EAAE;AACPJ,IAAAA,KAAK,EACJ,4BAAC,6BAAD;AACC,MAAA,IAAI,EAAG,cAAI,+CAAJ,CADR;AAEC,MAAA,KAAK,EAAG,cAAI,yBAAJ;AAFT,MAFM;AAOPK,IAAAA,aAAa,EAAE;AAPR;AAPmB,CAA5B;;AAkBA,MAAMC,gBAAgB,GAAG,CAAE;AAAEC,EAAAA,KAAF;AAASC,EAAAA,SAAT;AAAoBC,EAAAA,OAApB;AAA6BC,EAAAA;AAA7B,CAAF,KAA+C;AACvE,QAAM,CAAEX,GAAF,EAAOY,MAAP,IAAkB,uBAAUJ,KAAV,CAAxB;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAwB,uBAAaC,cAAb,CAA9B;AAEA,QAAMC,SAAS,GAAG,0BAAa,MAAM;AACpC,QAAKf,GAAG,KAAK,EAAb,EAAkB;AACjB,UAAK,gBAAOA,GAAP,CAAL,EAAoB;AACnBW,QAAAA,QAAQ,CAAEX,GAAF,CAAR;AACA,OAFD,MAEO;AACNa,QAAAA,iBAAiB,CAChB,cAAI,wCAAJ,CADgB,CAAjB,CADM,CAIN;;AACA,YAAKL,KAAK,KAAK,EAAf,EAAoB;AACnBG,UAAAA,QAAQ,CAAEH,KAAF,CAAR;AACA;AACD;AACD,KAZD,MAYO,IAAKA,KAAK,KAAK,EAAf,EAAoB;AAC1B;AACAG,MAAAA,QAAQ,CAAE,EAAF,CAAR;AACA;AACD,GAjBiB,EAiBf,CAAEX,GAAF,EAAOW,QAAP,EAAiBH,KAAjB,CAjBe,CAAlB;;AAmBA,WAASQ,aAAT,CAAwBC,UAAxB,EAAqC;AACpCL,IAAAA,MAAM,CAAEK,UAAU,CAACjB,GAAb,CAAN;AACA;;AAED,SACC,4BAAC,kCAAD;AACC,IAAA,SAAS,EAAGS,SADb;AAEC,IAAA,GAAG,EAAGT,GAFP;AAGC,IAAA,OAAO,EAAGU,OAHX;AAIC,IAAA,SAAS,EAAGK,SAJb;AAKC,IAAA,aAAa,EAAGC,aALjB;AAMC,IAAA,OAAO,EAAGjB,mBANX;AAOC,IAAA,eAAe,MAPhB;AAQC,IAAA,QAAQ;AART,IADD;AAYA,CAvCD;;eAyCeQ,gB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tLinkSettingsNavigation,\n\tFooterMessageLink,\n} from '@wordpress/components';\nimport { isURL } from '@wordpress/url';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useCallback, useState } from '@wordpress/element';\n\nconst linkSettingsOptions = {\n\turl: {\n\t\tlabel: __( 'Embed link' ),\n\t\tplaceholder: __( 'Add link' ),\n\t\tautoFocus: true,\n\t\tautoFill: true,\n\t},\n\tfooter: {\n\t\tlabel: (\n\t\t\t<FooterMessageLink\n\t\t\t\thref={ __( 'https://wordpress.org/support/article/embeds/' ) }\n\t\t\t\tvalue={ __( 'Learn more about embeds' ) }\n\t\t\t/>\n\t\t),\n\t\tseparatorType: 'topFullWidth',\n\t},\n};\n\nconst EmbedBottomSheet = ( { value, isVisible, onClose, onSubmit } ) => {\n\tconst [ url, setURL ] = useState( value );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tconst onDismiss = useCallback( () => {\n\t\tif ( url !== '' ) {\n\t\t\tif ( isURL( url ) ) {\n\t\t\t\tonSubmit( url );\n\t\t\t} else {\n\t\t\t\tcreateErrorNotice(\n\t\t\t\t\t__( 'Invalid URL. Please enter a valid URL.' )\n\t\t\t\t);\n\t\t\t\t// If the URL was already defined, we submit it to stop showing the embed placeholder.\n\t\t\t\tif ( value !== '' ) {\n\t\t\t\t\tonSubmit( value );\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ( value !== '' ) {\n\t\t\t// Resets the URL when new value is empty and URL was already defined.\n\t\t\tonSubmit( '' );\n\t\t}\n\t}, [ url, onSubmit, value ] );\n\n\tfunction setAttributes( attributes ) {\n\t\tsetURL( attributes.url );\n\t}\n\n\treturn (\n\t\t<LinkSettingsNavigation\n\t\t\tisVisible={ isVisible }\n\t\t\turl={ url }\n\t\t\tonClose={ onClose }\n\t\t\tonDismiss={ onDismiss }\n\t\t\tsetAttributes={ setAttributes }\n\t\t\toptions={ linkSettingsOptions }\n\t\t\twithBottomSheet\n\t\t\tshowIcon\n\t\t/>\n\t);\n};\n\nexport default EmbedBottomSheet;\n"]}