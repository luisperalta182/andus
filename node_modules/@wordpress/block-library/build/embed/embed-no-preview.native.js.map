{"version":3,"sources":["@wordpress/block-library/src/embed/embed-no-preview.native.js"],"names":["EmbedNoPreview","label","icon","isSelected","onPress","shouldRequestReview","isSheetVisible","setIsSheetVisible","postType","select","editorStore","getEditedPostAttribute","containerStyle","styles","embed__container","labelStyle","embed__label","embedIconStyle","embed__icon","descriptionStyle","embed__description","helpIconStyle","sheetIconStyle","sheetTitleStyle","sheetDescriptionStyle","sheetButtonStyle","previewButtonA11yHint","previewButtonText","comingSoonDescription","onOpenSheet","onCloseSheet","onDismissSheet","current","onPressContainer","onPressHelp","fill","embed__action","toUpperCase","help","width"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableOpacity, TouchableWithoutFeedback, Text } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { View } from '@wordpress/primitives';\n\nimport { __ } from '@wordpress/i18n';\nimport { useRef, useState } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { requestPreview } from '@wordpress/react-native-bridge';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { BottomSheet, Icon, TextControl } from '@wordpress/components';\nimport { help } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\n\nconst EmbedNoPreview = ( { label, icon, isSelected, onPress } ) => {\n\tconst shouldRequestReview = useRef( false );\n\tconst [ isSheetVisible, setIsSheetVisible ] = useState( false );\n\n\tconst { postType } = useSelect( ( select ) => ( {\n\t\tpostType: select( editorStore ).getEditedPostAttribute( 'type' ),\n\t} ) );\n\n\tconst containerStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__container,\n\t\tstyles[ 'embed__container--dark' ]\n\t);\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__label,\n\t\tstyles[ 'embed__label--dark' ]\n\t);\n\tconst embedIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__icon,\n\t\tstyles[ 'embed__icon--dark' ]\n\t);\n\tconst descriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles.embed__description,\n\t\tstyles[ 'embed__description--dark' ]\n\t);\n\tconst helpIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__help-icon' ],\n\t\tstyles[ 'embed-no-preview__help-icon--dark' ]\n\t);\n\n\tconst sheetIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-icon' ],\n\t\tstyles[ 'embed-no-preview__sheet-icon--dark' ]\n\t);\n\tconst sheetTitleStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-title' ],\n\t\tstyles[ 'embed-no-preview__sheet-title--dark' ]\n\t);\n\tconst sheetDescriptionStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-description' ],\n\t\tstyles[ 'embed-no-preview__sheet-description--dark' ]\n\t);\n\tconst sheetButtonStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'embed-no-preview__sheet-button' ],\n\t\tstyles[ 'embed-no-preview__sheet-button--dark' ]\n\t);\n\n\tconst previewButtonA11yHint =\n\t\tpostType === 'page'\n\t\t\t? __( 'Double tap to preview page.' )\n\t\t\t: __( 'Double tap to preview post.' );\n\tconst previewButtonText =\n\t\tpostType === 'page' ? __( 'Preview page' ) : __( 'Preview post' );\n\tconst comingSoonDescription =\n\t\tpostType === 'page'\n\t\t\t? __(\n\t\t\t\t\t'We’re working hard on adding support for embed previews. In the meantime, you can preview the embedded content on the page.'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'We’re working hard on adding support for embed previews. In the meantime, you can preview the embedded content on the post.'\n\t\t\t  );\n\n\tfunction onOpenSheet() {\n\t\tsetIsSheetVisible( true );\n\t}\n\n\tfunction onCloseSheet() {\n\t\tsetIsSheetVisible( false );\n\t}\n\n\tfunction onDismissSheet() {\n\t\t// The preview request has to be done after the bottom sheet modal is dismissed,\n\t\t// otherwise the preview native modal is not displayed.\n\t\tif ( shouldRequestReview.current ) {\n\t\t\trequestPreview();\n\t\t}\n\t\tshouldRequestReview.current = false;\n\t}\n\n\tfunction onPressContainer() {\n\t\tonPress();\n\t\tonOpenSheet();\n\t}\n\n\tfunction onPressHelp() {\n\t\tonPressContainer();\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\taccessibilityHint={ previewButtonA11yHint }\n\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\tonPress={ onPressContainer }\n\t\t\t>\n\t\t\t\t<View style={ containerStyle }>\n\t\t\t\t\t<Icon icon={ icon } fill={ embedIconStyle.fill } />\n\t\t\t\t\t<Text style={ labelStyle }>{ label }</Text>\n\t\t\t\t\t<Text style={ descriptionStyle }>\n\t\t\t\t\t\t{ __( 'Embed previews not yet available' ) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ styles.embed__action }>\n\t\t\t\t\t\t{ previewButtonText.toUpperCase() }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t\t\t\taccessibilityLabel={ __( 'Help button' ) }\n\t\t\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t\tonPress={ onPressHelp }\n\t\t\t\t\t\tstyle={ helpIconStyle }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ helpIconStyle.fill }\n\t\t\t\t\t\t\tsize={ helpIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ isSheetVisible }\n\t\t\t\thideHeader\n\t\t\t\tonDismiss={ onDismissSheet }\n\t\t\t\tonClose={ onCloseSheet }\n\t\t\t>\n\t\t\t\t<View style={ styles[ 'embed-no-preview__container' ] }>\n\t\t\t\t\t<View style={ sheetIconStyle }>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\t\tfill={ sheetIconStyle.fill }\n\t\t\t\t\t\t\tsize={ sheetIconStyle.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<Text style={ sheetTitleStyle }>\n\t\t\t\t\t\t{ __( 'Embed block previews are coming soon' ) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ sheetDescriptionStyle }>\n\t\t\t\t\t\t{ comingSoonDescription }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ previewButtonText }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ () => {\n\t\t\t\t\t\tshouldRequestReview.current = true;\n\t\t\t\t\t\tonCloseSheet();\n\t\t\t\t\t} }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Dismiss' ) }\n\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\tonPress={ onCloseSheet }\n\t\t\t\t\tlabelStyle={ sheetButtonStyle }\n\t\t\t\t/>\n\t\t\t</BottomSheet>\n\t\t</>\n\t);\n};\n\nexport default EmbedNoPreview;\n"]}